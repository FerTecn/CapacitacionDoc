{% extends 'base.html' %}
{% load static %}

{% block title %}- Ver Formato de constancia{% endblock %}

{% block content %}
<style>
    .img-preview-box {
        width: 100%;
        height: 300px; /* Altura uniforme para todas */
        overflow: hidden;
        border: 1px solid #ccc;
        border-radius: 8px;
        background-color: #f8f9fc;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .preview-img {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }
</style>

<div class="d-flex align-items-start flex-column mb-3">
    <a href="{% url 'formatoslista' %}" class="btn btn-secondary btn-icon-split mr-2">
        <span class="icon text-white-50">
            <i class="fas fa-arrow-left"></i>
        </span>
        <span class="text">Volver</span>
    </a>
</div>
<h1 class="h3 mb-2 text-gray-800">Formato de constancia del año {{ formato.year}}</h1><br>

<div class="form-row">
    <div class="form-group col-md-12 align-items-center">
        <p><strong>{{form.vigente.label_tag}}</strong> 
            <button class="btn {% if formato.vigente %}btn-success{% else %}btn-danger{% endif %}">
                {% if formato.vigente %}Vigente{% else %}No vigente{% endif %}
            </button>
        </p>
    </div>
</div>
<hr>
<div class="form-row mb-4">
    <strong>{{ form.header.label_tag }}</strong>
    {% if formato.header %}
        <div class="img-preview-box">
            <img src="{{ formato.header.url }}" 
                 alt="Encabezado para el formato de constancias del año {{ formato.year }}"
                 class="preview-img">
        </div>
    {% else %}
        <div class="text-center mt-4">No hay encabezado</div>
    {% endif %}
</div>

<div class="form-row mb-4">
    <strong>{{ form.margend.label_tag }}</strong>
    {% if formato.margend %}
        <div class="img-preview-box">
            <img src="{{ formato.margend.url }}" 
                 alt="Margen para el formato de constancias del año {{ formato.year }}"
                 class="preview-img">
        </div>
    {% else %}
        <div class="text-center mt-4">No hay margen</div>
    {% endif %}
</div>

<div class="form-row mb-4">
    <strong>{{ form.fondo.label_tag }}</strong>
    {% if formato.fondo %}
        <div class="img-preview-box">
            <img src="{{ formato.fondo.url }}" 
                 alt="Fondo para el formato de constancias del año {{ formato.year }}"
                 class="preview-img">
        </div>
    {% else %}
        <div class="text-center mt-4">No hay fondo</div>
    {% endif %}
</div>

<div class="form-row mb-4">
    <strong>{{ form.footer.label_tag }}</strong>
    {% if formato.footer %}
        <div class="img-preview-box">
            <img src="{{ formato.footer.url }}" 
                 alt="Footer para el formato de constancias del año {{ formato.year }}"
                 class="preview-img">
        </div>
    {% else %}
        <div class="text-center mt-4">No hay footer</div>
    {% endif %}
</div>

{% endblock %}