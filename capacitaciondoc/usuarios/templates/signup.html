{% extends 'templateLogin.html' %}

{% block titulo %}
    - Registrarme
{% endblock %}

{% block contenido %}
<div class="p-5">
    <div class="text-center">
        <h1 class="h4 text-gray-900 mb-4">Registro CAPACITATEC</h1>
    </div>
    {% if error %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Error:</strong> {{error}}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {% endif %}

    <form method="post" action="{% url 'signup' %}" class="user">
        {% csrf_token %}
        {% if messages %}
            <div>
                {% for message in messages %}
                <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% endfor %}
            </div>
        {% endif %}

        <div class="form-row">
            <div class="form-group col-md-4 align-items-center">
                <p><strong style="display: block;">{{ form.first_name.label_tag }}</strong> {{ form.first_name }}</p>
            </div>
            <div class="form-group col-md-4 align-items-center">
                <p><strong style="display: block;">{{ form.last_name_paterno.label_tag }}</strong> {{ form.last_name_paterno }}</p>
            </div>
            <div class="form-group col-md-4 align-items-center">
                <p><strong style="display: block;">{{ form.last_name_materno.label_tag }}</strong> {{ form.last_name_materno }}</p>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-8 align-items-center">
                <p><strong style="display: block;">{{ form.curp.label_tag }}</strong> {{ form.curp }}</p>
            </div>
            <div class="form-group col-md-4 align-items-center">
                <p><strong style="display: block;">{{ form.rol.label_tag }}</strong> {{ form.rol }}</p>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-12 align-items-center">
                <p><strong style="display: block;">{{ form.email.label_tag }}</strong> {{ form.email }}</p>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6 align-items-center">
                <p><strong style="display: block;">{{ form.password1.label_tag }}</strong> {{ form.password1 }}</p>
            </div>
            <div class="form-group col-md-6 align-items-center">
                <p><strong style="display: block;">{{ form.password2.label_tag }}</strong> {{ form.password2 }}</p>
            </div>
        </div>

        <button type="submit" class="btn btn-primary btn-user btn-block">
            Registrarse
        </button>
    </form>

    <hr>
    <div class="text-center">
        <a class="small" href={% url "signin" %}>¿Ya tienes una cuenta? ¡Inicia sesión!</a>
    </div>                            
    <div class="text-center">
        <a class="small" href="{% url 'password_reset' %}">¿Olvidaste tu contraseña?</a>
    </div>
</div>
{% endblock %}